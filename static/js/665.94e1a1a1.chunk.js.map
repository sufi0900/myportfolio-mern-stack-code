{"version":3,"file":"static/js/665.94e1a1a1.chunk.js","mappings":"sPAyJA,UAhJsB,WAAO,IAADA,EAAAC,EAAAC,EACpBC,EAAO,CACXC,WAAY,2BACZC,aAAc,OACdC,UACE,kFACFC,eAAgB,YAChBC,qBAAsB,YACtBC,OAAQ,sCAGFC,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAAC,EAAAA,EAAAA,GAAA,GAAWD,EAAME,KAAI,IAAhDJ,KACRK,GAA2DJ,EAAAA,EAAAA,KACzD,SAACC,GAAK,OAAAC,EAAAA,EAAAA,GAAA,GACDD,EAAMI,KAAI,IAFTC,EAASF,EAATE,UAAWC,EAAOH,EAAPG,QAASC,EAAWJ,EAAXI,YAAaC,EAAaL,EAAbK,cAKnCC,EAAa,OAAJX,QAAI,IAAJA,GAAY,QAARV,EAAJU,EAAMY,cAAM,IAAAtB,OAAR,EAAJA,EAAcuB,IACvBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJL,GACFG,GAASG,EAAAA,EAAAA,IAAeN,GAE5B,GAAG,CAACG,EAAUH,IAEd,IAYMO,EAAe,YAEhBV,GACDC,EAAcC,GACdS,OAAOC,YAAcC,SAASC,gBAAgBC,WAC5CF,SAASC,gBAAgBE,aAAe,KAE1CV,GAASG,EAAAA,EAAAA,IAAeN,EAAQF,EAAc,GAElD,EAWA,OATAO,EAAAA,EAAAA,YAAU,WAGR,OAFAG,OAAOM,iBAAiB,SAAUP,GAE3B,WACLC,OAAOO,oBAAoB,SAAUR,EACvC,CAEF,GAAG,CAACJ,EAAUH,EAAQF,EAAaC,IAE/BF,GAA2B,IAAhBC,GACNkB,EAAAA,EAAAA,KAACC,EAAAA,EAAI,KAGZD,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAACC,WAAS,EAACC,eAAe,SAASC,WAAW,SAASC,QAAS,EAAEC,SAC/C,IAArB3B,EAAU4B,QACTR,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAACO,MAAI,EAACC,GAAI,GAAGH,UAChBI,EAAAA,EAAAA,MAACC,EAAAA,EAAU,CAACC,QAAQ,KAAKC,MAAM,SAAQP,SAAA,CAAC,oCACA,OAAJlC,QAAI,IAAJA,GAAY,QAART,EAAJS,EAAMY,cAAM,IAAArB,OAAR,EAAJA,EAAcmD,WAIpDJ,EAAAA,EAAAA,MAAAK,EAAAA,SAAA,CAAAT,SAAA,EACEI,EAAAA,EAAAA,MAACT,EAAAA,GAAI,CAACO,MAAI,EAACC,GAAI,GAAGH,SAAA,EAChBI,EAAAA,EAAAA,MAACC,EAAAA,EAAU,CAACC,QAAQ,KAAKC,MAAM,SAAQP,SAAA,CAAC,cACtB,OAAJlC,QAAI,IAAJA,GAAY,QAARR,EAAJQ,EAAMY,cAAM,IAAApB,OAAR,EAAJA,EAAckD,SAE5Bf,EAAAA,EAAAA,KAAA,MAAIiB,MAAO,CAAEC,SAAU,cAExBtC,EAAUuC,KAAI,SAACV,GAAI,OAClBT,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAACO,MAAI,EAACC,GAAI,GAAIU,GAAI,EAAEb,UACvBP,EAAAA,EAAAA,KAACqB,EAAAA,EAAI,CAACJ,MAAOnD,EAAKyC,UAChBI,EAAAA,EAAAA,MAACT,EAAAA,GAAI,CAACC,WAAS,EAACG,QAAS,EAAGD,WAAW,SAAQE,SAAA,EAC7CP,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAACO,MAAI,EAACC,GAAI,GAAIY,GAAI,EAAEf,UACvBP,EAAAA,EAAAA,KAAA,OACEuB,IAAKd,EAAKe,UACVC,IAAKhB,EAAKiB,MACV7C,QAAQ,OACRoC,MAAO,CACLU,MAAO,OACPC,OAAQ,OACRC,UAAW,QACX7D,aAAc,aAIpBgC,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAACO,MAAI,EAACC,GAAI,GAAIY,GAAI,EAAEf,UACvBI,EAAAA,EAAAA,MAACmB,EAAAA,EAAW,CAAAvB,SAAA,EACVP,EAAAA,EAAAA,KAACY,EAAAA,EAAU,CAACC,QAAQ,KAAKkB,UAAU,MAAMjB,MAAM,OAAMP,SAClDE,EAAKiB,SAGR1B,EAAAA,EAAAA,KAACY,EAAAA,EAAU,CACTC,QAAQ,QACRmB,MAAM,gBACND,UAAU,MACVjB,MAAM,OAAMP,UA9EjB0B,EAgFcxB,EAAKyB,YA/E9BD,EAAIzB,OAAS,KACfyB,EAAMA,EAAIE,UAAU,EAAG,IAAM,QAExBF,MA+EWtB,EAAAA,EAAAA,MAAA,OACEM,MAAO,CACLmB,QAAS,OACThC,eAAgB,YAChBG,SAAA,EAEFP,EAAAA,EAAAA,KAACqC,EAAAA,EAAM,CACLC,QAAS,kBAnFXC,EAmF8B9B,EAAKvB,SAlFnDM,OAAOgD,QAAQ,+CACjBrD,GAASsD,EAAAA,EAAAA,IAAW,CAAEF,GAAAA,EAAIG,MAAAA,EAAAA,OAFT,IAACH,CAmFuC,EACrCtB,MAAO,CAAEe,MAAO,UAAWW,OAAQ,cAErC3C,EAAAA,EAAAA,KAAC4C,EAAAA,GAAI,CAACC,GAAE,aAAAC,OAAerC,EAAKvB,KAAMqB,UAChCP,EAAAA,EAAAA,KAAC+C,EAAAA,EAAI,CACH9B,MAAO,CACLe,MAAO,UACPgB,WAAY,OACZL,OAAQ,6BA9CKlC,EAAKvB,KApD9B,IAAC+C,CA2GA,IAERpD,GAAWC,EAAcC,IACxBiB,EAAAA,EAAAA,KAACC,EAAAA,EAAI,QAMjB,C,8CCnJA,KAAegD,EAAAA,EAAAA,IAA4BjD,EAAAA,EAAAA,KAAK,OAAQ,CACtDkD,EAAG,kFACD,S,8CCFJ,KAAeD,EAAAA,EAAAA,IAA4BjD,EAAAA,EAAAA,KAAK,OAAQ,CACtDkD,EAAG,yJACD,O","sources":["pages/DashboardBlog.js","../node_modules/@mui/icons-material/esm/Delete.js","../node_modules/@mui/icons-material/esm/Edit.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Card, CardContent, Typography, Grid } from \"@mui/material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { deleteTour, getToursByUser } from \"../redux/features/tourSlice\";\nimport { toast } from \"react-toastify\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport Spin from \"../Componenet/Spin\";\n\nconst DashboardBlog = () => {\n  const Item = {\n    background: \"rgba(255, 255, 255, 0.2)\",\n    borderRadius: \"16px\",\n    boxShadow:\n      \"rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px\",\n    backdropFilter: \"blur(5px)\",\n    WebkitBackdropFilter: \"blur(5px)\",\n    border: \"1px solid rgba(255, 255, 255, 0.3)\",\n  };\n\n  const { user } = useSelector((state) => ({ ...state.auth }));\n  const { userTours, loading, currentPage, numberOfPages } = useSelector(\n    (state) => ({\n      ...state.tour,\n    })\n  );\n  const userId = user?.result?._id;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (userId) {\n      dispatch(getToursByUser(userId));\n    }\n  }, [dispatch, userId]);\n\n  const excerpt = (str) => {\n    if (str.length > 40) {\n      str = str.substring(0, 40) + \" ...\";\n    }\n    return str;\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this tour?\")) {\n      dispatch(deleteTour({ id, toast }));\n    }\n  };\n  const handleScroll = () => {\n    if (\n      !loading &&\n      currentPage < numberOfPages &&\n      window.innerHeight + document.documentElement.scrollTop >=\n        document.documentElement.scrollHeight - 100\n    ) {\n      dispatch(getToursByUser(userId, currentPage + 1));\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, userId, currentPage, numberOfPages]);\n\n  if (loading && currentPage === 1) {\n    return <Spin />;\n  }\n  return (\n    <Grid container justifyContent=\"center\" alignItems=\"center\" spacing={3}>\n      {userTours.length === 0 ? (\n        <Grid item xs={12}>\n          <Typography variant=\"h6\" align=\"center\">\n            No tour available with the user: {user?.result?.name}\n          </Typography>\n        </Grid>\n      ) : (\n        <>\n          <Grid item xs={12}>\n            <Typography variant=\"h5\" align=\"center\">\n              Dashboard: {user?.result?.name}\n            </Typography>\n            <hr style={{ maxWidth: \"570px\" }} />\n          </Grid>\n          {userTours.map((item) => (\n            <Grid item xs={12} lg={8} key={item._id}>\n              <Card style={Item}>\n                <Grid container spacing={2} alignItems=\"center\">\n                  <Grid item xs={12} md={4}>\n                    <img\n                      src={item.imageFile}\n                      alt={item.title}\n                      loading=\"lazy\"\n                      style={{\n                        width: \"100%\",\n                        height: \"100%\",\n                        objectFit: \"cover\",\n                        borderRadius: \"10px\",\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={8}>\n                    <CardContent>\n                      <Typography variant=\"h6\" component=\"div\" align=\"left\">\n                        {item.title}\n                      </Typography>\n\n                      <Typography\n                        variant=\"body2\"\n                        color=\"textSecondary\"\n                        component=\"div\"\n                        align=\"left\"\n                      >\n                        {excerpt(item.description)}\n                      </Typography>\n\n                      <div\n                        style={{\n                          display: \"flex\",\n                          justifyContent: \"flex-end\",\n                        }}\n                      >\n                        <Delete\n                          onClick={() => handleDelete(item._id)}\n                          style={{ color: \"#dd4b39\", cursor: \"pointer\" }}\n                        />\n                        <Link to={`/editTour/${item._id}`}>\n                          <Edit\n                            style={{\n                              color: \"#55acee\",\n                              marginLeft: \"10px\",\n                              cursor: \"pointer\",\n                            }}\n                          />\n                        </Link>\n                      </div>\n                    </CardContent>\n                  </Grid>\n                </Grid>\n              </Card>\n            </Grid>\n          ))}\n          {loading && currentPage < numberOfPages && (\n            <Spin /> // Add a loading spinner while loading more skills\n          )}\n        </>\n      )}\n    </Grid>\n  );\n};\n\nexport default DashboardBlog;\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');"],"names":["_user$result","_user$result2","_user$result3","Item","background","borderRadius","boxShadow","backdropFilter","WebkitBackdropFilter","border","user","useSelector","state","_objectSpread","auth","_useSelector2","tour","userTours","loading","currentPage","numberOfPages","userId","result","_id","dispatch","useDispatch","useEffect","getToursByUser","handleScroll","window","innerHeight","document","documentElement","scrollTop","scrollHeight","addEventListener","removeEventListener","_jsx","Spin","Grid","container","justifyContent","alignItems","spacing","children","length","item","xs","_jsxs","Typography","variant","align","name","_Fragment","style","maxWidth","map","lg","Card","md","src","imageFile","alt","title","width","height","objectFit","CardContent","component","color","str","description","substring","display","Delete","onClick","id","confirm","deleteTour","toast","cursor","Link","to","concat","Edit","marginLeft","createSvgIcon","d"],"sourceRoot":""}